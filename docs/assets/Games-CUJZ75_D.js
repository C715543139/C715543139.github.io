import"./base-BUwA5uME.js";import{E as P}from"./el-link-CYcVo_qx.js";import{d as x,b as d,o as f,q as G,r as g,c as $,j as I,v as O,F as S,x as T,n as W,y as R,l as C,z as L,u as D,p as j,w as q,m as K,s as Z}from"./index-DBXOFK8O.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";/*! Element Plus Icons Vue v2.3.1 */var H=x({name:"ArrowLeftBold",__name:"arrow-left-bold",setup(k){return(m,a)=>(f(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"})]))}}),J=H,Q=x({name:"Menu",__name:"menu",setup(k){return(m,a)=>(f(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),X=Q;const Y={class:"window2048"},l=4,ee=x({__name:"Game2048",setup(k){const m=(e,o)=>[o,e],a=g(Array.from({length:l+2},()=>Array(l+2).fill(0))),h=$(()=>a.value.slice(1,l+1).flatMap(e=>e.slice(1,l+1)));function y(e){return Math.floor(Math.random()*e)}function p(){const e=[];for(let u=1;u<=l;u++)for(let s=1;s<=l;s++)a.value[u][s]===0&&e.push([u,s]);if(!e.length)return;const[o,t]=e[y(e.length)];a.value[o][t]=y(10)===5?4:2}function v(){p(),p()}function w(e){let o=!1;const t=e==="ArrowUp",u=e==="ArrowDown",s=e==="ArrowLeft";for(let i=1;i<=l;++i)for(let r=t||s?1:l;t||s?r<l:r>1;t||s?r++:r--){const n=t||u?[r,i]:[i,r];if(a.value[n[0]][n[1]]!==0)continue;let c=t||s?r+1:r-1;for(;(t||s?c<=l:c>=1)&&a.value[t||u?c:i][t||u?i:c]===0;)t||s?c++:c--;if(t||s?c<=l:c>=1){o=!0;const _=t||u?[c,i]:[i,c];[a.value[n[0]][n[1]],a.value[_[0]][_[1]]]=m(a.value[n[0]][n[1]],a.value[_[0]][_[1]])}}return o}function A(e){let o=!1;const t=e==="ArrowUp",u=e==="ArrowDown",s=e==="ArrowLeft",i=(r,n,E,c)=>{const[_,M]=[n,r],[V,B]=[n+c,r+E];a.value[_][M]!==0&&a.value[_][M]===a.value[V][B]&&(a.value[_][M]*=2,a.value[V][B]=0,o=!0)};if(t||u)for(let r=1;r<=l;r++)for(let n=t?1:l;t?n<l:n>1;t?n++:n--)i(r,n,0,t?1:-1);else for(let r=1;r<=l;r++)for(let n=s?1:l;s?n<l:n>1;s?n++:n--)i(n,r,s?1:-1,0);return o}function U(){for(let e=1;e<=l;e++)for(let o=1;o<=l;o++){const t=a.value[e][o];if(t===0||t===a.value[e-1][o]||t===a.value[e+1][o]||t===a.value[e][o-1]||t===a.value[e][o+1])return!0}return!1}function b(e){const o=e.key;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(o))return;e.preventDefault(),(w(o)?1:0)|(A(o)?1:0)|(w(o)?1:0)&&p(),U()||(alert("GAME OVER!"),F())}function F(){a.value.forEach(e=>e.fill(0)),v()}return I(()=>{v(),window.addEventListener("keydown",b)}),O(()=>{window.removeEventListener("keydown",b)}),(e,o)=>(f(),d("div",Y,[(f(!0),d(S,null,T(h.value,(t,u)=>(f(),d("h1",{key:u,class:W(["block2048","v"+t])},R(t||""),3))),128))]))}}),z=N(ee,[["__scopeId","data-v-88fcd178"]]),te={class:"game-container"},ae={key:1,class:"game-group"},oe={key:2,class:"game-display"},ne=x({__name:"Games",setup(k){const m=g(z),a=g(!1),h=g(0);function y(p){m.value=p,h.value=Date.now(),a.value=!0}return(p,v)=>{const w=P;return f(),d("div",te,[a.value?(f(),C(w,{key:0,id:"back-button",onClick:v[0]||(v[0]=A=>a.value=!1),icon:D(J),underline:!1},null,8,["icon"])):L("",!0),a.value?L("",!0):(f(),d("div",ae,[j(w,{class:"game-item",icon:D(X),underline:!1,onClick:v[1]||(v[1]=A=>y(z))},{default:q(()=>v[2]||(v[2]=[Z(" 2048 ")])),_:1},8,["icon"])])),a.value?(f(),d("div",oe,[(f(),C(K(m.value),{key:h.value}))])):L("",!0)])}}}),ce=N(ne,[["__scopeId","data-v-7ab5cbdb"]]);export{ce as default};
